---
title: "Github"
description: "You can associate your GitHub account with your DEMOS address using OAuth or gist-based verification."
icon: "github"
---

# GitHub

You can associate your GitHub account with your DEMOS address using one of two methods:

1. **OAuth Flow** (Recommended) - Seamless authentication through GitHub's OAuth
2. **Gist-based Verification** - Manual proof creation via GitHub Gist

---

## Method 1: OAuth Flow (Recommended)

The OAuth flow provides a seamless user experience by authenticating directly with GitHub.

### Prerequisites

Your application needs to implement a GitHub OAuth flow. The DEMOS node will exchange the authorization code for user verification.

### 1. Initiate OAuth Flow

Redirect users to GitHub's authorization endpoint:

```typescript
const clientId = "YOUR_GITHUB_CLIENT_ID"
const redirectUri = encodeURIComponent("YOUR_CALLBACK_URL")
const scope = "read:user"

const authUrl = `https://github.com/login/oauth/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scope}`

// Redirect user to authUrl
window.location.href = authUrl
```

### 2. Exchange Authorization Code

After the user authorizes, GitHub redirects back with a `code` parameter. Exchange this code with the DEMOS node:

```typescript
import { Demos } from "@kynesyslabs/demosdk/websdk";

const demos = new Demos();
await demos.connect("https://demosnode.discus.sh");

// Get the authorization code from the URL
const urlParams = new URLSearchParams(window.location.search);
const code = urlParams.get('code');

// Exchange the code with the DEMOS node
const response = await demos.nodeCall({
    message: "exchangeGitHubOAuthCode",
    data: { code }
});

console.log(response);
```

A successful response includes a signed attestation:

```json
{
  "result": 200,
  "response": {
    "success": true,
    "userId": "12345678",
    "username": "your_github_username",
    "signedAttestation": {
      "attestation": {
        "provider": "github",
        "userId": "12345678",
        "username": "your_github_username",
        "timestamp": 1703001234567,
        "nodePublicKey": "0x..."
      },
      "signature": "...",
      "signatureType": "ed25519"
    }
  }
}
```

### 3. Submit Identity Transaction

Use the signed attestation to create an identity transaction:

```typescript
import { Identities } from "@kynesyslabs/demosdk/abstraction";

await demos.connectWallet(mnemonic);

const identities = new Identities();
const validityData = await identities.addGithubIdentityFromOAuth(
    demos,
    response.response.signedAttestation
);

if (validityData.result === 200) {
    const res = await demos.broadcast(validityData);
    console.log(res);
}
```

<Info>
The OAuth attestation is time-limited (5 minutes) and signed by the verifying node, ensuring the identity verification is authentic and recent.
</Info>

---

## Method 2: Gist-based Verification

This method requires manually creating a public gist containing a cryptographic proof.

### 1. Connect your wallet

```typescript
import { Demos } from "@kynesyslabs/demosdk/websdk";
import { Identities } from "@kynesyslabs/demosdk/abstraction";

// the DEMOS rpc
const rpc = "https://demosnode.discus.sh"

const demos = new Demos();
await demos.connect(rpc);
await demos.connectWallet(mnemonic);
```

### 2. Generate the proof payload

To link your GitHub account to your DEMOS address, you need to create a public gist containing a proof on your GitHub. The proof is a string that contains a message, a signature and your public key.

You can generate a proof as shown below:

```typescript
const identities = new Identities();

const proofPayload = await identities.createWeb2ProofPayload(demos)
console.log("Upload on GitHub gist: ", proofPayload)
```

The proof looks like this:

```
demos:dw2p:ed25519:e9dd684a031e142ce312b695275b226ab8824f2fd3674db52f28be6c3e9fe027f88a8a/...
```

Open your GitHub and create a new public gist containing only the proof in the first file.

### 3. Send an identity request

After creating the gist, copy the gist url and use it to create an identity transaction as shown below:

```typescript
const proof = "https://gist.github.com/cwilvx/abf8db960c16dfc7f6dc1da840852f79"

const validityData = await identities.addGithubIdentity(demos, proof)
console.log("validity data: ", validityData)

if (validityData.result == 200){
    const res = await demos.broadcast(validityData)
    console.log(res)
}
```

The following proof url formats are also supported:

1. Raw gist url: [https://gist.githubusercontent.com/cwilvx/abf8db960c16dfc7f6dc1da840852f79/raw/224478424c5e6e51f5eb60cb6aeea278d3418742/gistfile1.txt](https://gist.githubusercontent.com/cwilvx/abf8db960c16dfc7f6dc1da840852f79/raw/224478424c5e6e51f5eb60cb6aeea278d3418742/gistfile1.txt)
2. Raw proof file in a GitHub repo url: [https://raw.githubusercontent.com/cwilvx/vonage-draft-images/refs/heads/master/proof.txt](https://raw.githubusercontent.com/cwilvx/vonage-draft-images/refs/heads/master/proof.txt)

A successful transaction response should look like this:

```json
{
  "result": 200,
  "response": {
    "message": "Verified github proof. Transaction applied."
  },
  "require_reply": false,
  "extra": {
    "confirmationBlock": 38
  }
}
```

---

## Getting linked web2 accounts

After the confirmation block has been forged, you can retrieve all your linked accounts as shown:

```typescript
const web2Ids = await identities.getWeb2Identities()
```

The response should look like this:

```json
{
  "result": 200,
  "response": {
    "github": [
      {
        "proof": "https://gist.github.com/cwilvx/abf8db960c16dfc7f6dc1da840852f79",
        "username": "cwilvx",
        "proofHash": "c9bcf4dcb2bdb490...1060ab12b16a7385351"
      }
    ]
  },
  "require_reply": false,
  "extra": null
}
```

## Removing linked GitHub identity

You can create a transaction to remove your linked GitHub account as shown:

```typescript
const payload = {
    context: "github",
    username: "cwilvx"
}

const validityData = await identities.removeWeb2Identity(demos, payload);

if (validityData.result == 200) {
    const res = await demos.broadcast(validityData);
    console.log(res);
}
```

A successful transaction response should look like this:

```json
{
  "result": 200,
  "response": {
    "message": "Identity removed. Transaction applied."
  },
  "require_reply": false,
  "extra": {
    "confirmationBlock": 47
  }
}
```

## Comparison of Methods

| Feature | OAuth Flow | Gist-based |
|---------|-----------|------------|
| User Experience | Seamless, one-click | Manual gist creation |
| Setup Required | OAuth app configuration | None |
| Verification Speed | Instant | Requires gist fetch |
| Best For | Production apps | Development/testing |
